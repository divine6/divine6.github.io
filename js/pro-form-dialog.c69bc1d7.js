(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pro-form-dialog"],{"608d":function(t,e,o){"use strict";o("cfa6")},"7eb3":function(t,e,o){},"99af":function(t,e,o){"use strict";var i=o("23e7"),r=o("d039"),l=o("e8b5"),n=o("861d"),a=o("7b0b"),s=o("50c4"),c=o("8418"),p=o("65f0"),d=o("1dde"),u=o("b622"),b=o("2d00"),f=u("isConcatSpreadable"),m=9007199254740991,h="Maximum allowed index exceeded",y=b>=51||!r((function(){var t=[];return t[f]=!1,t.concat()[0]!==t})),v=d("concat"),g=function(t){if(!n(t))return!1;var e=t[f];return void 0!==e?!!e:l(t)},j=!y||!v;i({target:"Array",proto:!0,forced:j},{concat:function(t){var e,o,i,r,l,n=a(this),d=p(n,0),u=0;for(e=-1,i=arguments.length;e<i;e++)if(l=-1===e?n:arguments[e],g(l)){if(r=s(l.length),u+r>m)throw TypeError(h);for(o=0;o<r;o++,u++)o in l&&c(d,u,l[o])}else{if(u>=m)throw TypeError(h);c(d,u++,l)}return d.length=u,d}})},a66f:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("el-form",t._b({ref:"pro-form",staticClass:"pro-form",attrs:{model:t.currentValue,"label-width":t.labelWidth,"validate-on-rule-change":!1,rules:t.formRules},nativeOn:{submit:function(t){t.preventDefault()}}},"el-form",t.$attrs,!1),[t._l(t.list,(function(e,i){return[o("div",{key:i,staticClass:"group"},[e.title?o("div",{staticClass:"group-title"},[o("span",{staticClass:"group-title-main"},[t._v(t._s(e.title))]),o("span",{staticClass:"group-title-tips"},[t._v(t._s(e.tooltip))])]):t._e(),o("div",{staticClass:"pro-form-items"},t._l(t.split2Arr(e.items,e.column),(function(i,r){return o("el-row",{key:r},t._l(i,(function(i){return o("el-col",{key:i.prop,attrs:{span:i.span||24/e.column||24}},["slot"!==i.type?o("pro-form-item",{class:i["class-name"],attrs:{labelWidth:i.labelWidth||t.labelWidth,item:i,mode:t.mode},scopedSlots:t._u([{key:"tip",fn:function(){return[t._t(i.prop+"-tip")]},proxy:!0}],null,!0),model:{value:t.currentValue[i.prop],callback:function(e){t.$set(t.currentValue,i.prop,e)},expression:"currentValue[item.prop]"}}):!1!==i.if?o("el-form-item",{attrs:{prop:i.prop},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(i.label)+" "),i.label?o("span",[i.tooltip?o("el-tooltip",{attrs:{effect:"dark",content:i.tooltip,placement:"top"}},[o("i",{staticClass:"el-icon-question"})]):t._e()],1):t._e()]},proxy:!0}],null,!0)},[t._t(i.prop)],2):t._e()],1)})),1)})),1)])]})),t.showOperation&&"read"!==t.mode?o("div",{staticClass:"operation"},[t.$slots.operation&&t.$slots.operation.length?[t._t("operation")]:[t.showReset?o("el-button",{attrs:{type:"info"},on:{click:t.resetHandle}},[t._v("重置")]):t._e(),t.showSave?o("el-button",{attrs:{type:"primary"},on:{click:t.saveHandle}},[t._v("保存")]):t._e(),t.showCancel?o("el-button",{on:{click:t.cancelHandle}},[t._v("取消")]):t._e()]],2):t._e()],2)},r=[],l=(o("99af"),o("9ab4")),n=o("1b40"),a=o("307f"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return!1!==t.item.if?o("el-form-item",{attrs:{prop:t.item.prop,"label-width":t.labelWidth},scopedSlots:t._u([{key:"label",fn:function(){return[t._v(" "+t._s(t.item.label)+" "),t.item.label?o("span",[t.item.tooltip?o("el-tooltip",{attrs:{effect:"dark",content:t.item.tooltip,placement:"top"}},[o("i",{staticClass:"el-icon-question gray"})]):t._e()],1):t._e()]},proxy:!0}],null,!1,1906344005)},[[o("pro-filed",{attrs:{valueType:t.item.type,mode:t.item.mode||t.mode,width:t.item.other&&t.item.other.width,previewSrcList:t.item.srcList,options:t.item.options},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}}),t.item.other?[o("span",{staticClass:"tip"},[t.$slots.tip&&t.$slots.tip.length?[t._t("tip")]:o("span",{domProps:{innerHTML:t._s(t.item.other.tip)}})],2)]:t._e()]],2):t._e()},c=[],p=o("02e3"),d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(l["c"])(e,t),Object(l["b"])([Object(n["d"])()],e.prototype,"item",void 0),Object(l["b"])([Object(n["d"])()],e.prototype,"labelWidth",void 0),Object(l["b"])([Object(n["d"])()],e.prototype,"mode",void 0),e=Object(l["b"])([Object(n["a"])({components:{proFiled:p["a"]}})],e),e}(Object(n["b"])(a["a"])),u=d,b=u,f=(o("d170"),o("0c7c")),m=Object(f["a"])(b,s,c,!1,null,"36bac852",null),h=m.exports;o("fb6a");function y(t,e){for(var o=[],i=0;i<t.length;)o.push(t.slice(i,i+=e));return o}o("d3b7"),function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e="blur"),this.required=!0,this.message=t,this.trigger=e}}(),function(){function t(t,e,o){void 0===e&&(e="格式不正确"),void 0===o&&(o="blur"),this.pattern=t,this.message=e,this.trigger=o}}(),function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e="blur"),this.required=!0,this.pattern=/^((?!\s).)*$/,this.message=t?t+"且不能包含空格":"不能包含空格",this.trigger=e}}(),function(){function t(t,e,o,i){void 0===i&&(i="blur");var r="";o?r=o:t&&e?r="长度应在"+t+"到"+e+"个字之间":t&&!e?r="长度应大于"+t+"个字":!t&&e&&(r="长度应小于"+e+"个字"),this.min=t,this.max=e,this.message=r,this.trigger=i}}();var v=function(t,e){return new Promise((function(o){t.$refs[e].validate((function(e,i){e?o(!0):(t.$nextTick((function(){var t=document.getElementsByClassName("is-error")[0],e=t.getElementsByClassName("el-form-item__error")[0];e.classList.add("jello"),t.scrollIntoView({block:"center",behavior:"smooth"}),e.addEventListener("animationend",(function(){e.classList.remove("jello")}))})),o(!1))}))}))},g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.formRules={},e.split2Arr=y,e}return Object(l["c"])(e,t),e.prototype.watchList=function(){this.calcformRules()},e.prototype.watchMode=function(){this.clearValidate()},e.prototype.calcformRules=function(){for(var t={},e=this.list,o=[],i=0,r=e;i<r.length;i++){var l=r[i];o=[].concat(o).concat(l.items)}for(var n=0,a=o;n<a.length;n++){var s=a[n];Array.isArray(s.rules)&&s.rules.length&&(t[s.prop]=s.rules)}this.formRules=t},e.prototype.validate=function(t){v(this,"pro-form").then((function(e){t(e)}))},e.prototype.validateField=function(t,e){this.$refs["pro-form"].validateField(t,e)},e.prototype.resetFields=function(){this.$refs["pro-form"].resetFields()},e.prototype.clearValidate=function(){this.$refs["pro-form"].clearValidate()},e.prototype.saveHandle=function(){var t=this;this.validate((function(e){e&&t.$emit("saveHandle")}))},e.prototype.cancelHandle=function(){this.$emit("cancelHandle")},e.prototype.resetHandle=function(){this.clearValidate(),this.resetFields()},e.prototype.created=function(){this.calcformRules()},Object(l["b"])([Object(n["d"])({type:String,default:"edit"})],e.prototype,"mode",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!0})],e.prototype,"showOperation",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!0})],e.prototype,"showReset",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!0})],e.prototype,"showSave",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!0})],e.prototype,"showCancel",void 0),Object(l["b"])([Object(n["d"])()],e.prototype,"list",void 0),Object(l["b"])([Object(n["d"])({default:"120px"})],e.prototype,"labelWidth",void 0),Object(l["b"])([Object(n["f"])("list")],e.prototype,"watchList",null),Object(l["b"])([Object(n["f"])("mode")],e.prototype,"watchMode",null),e=Object(l["b"])([Object(n["a"])({components:{ProFormItem:h}})],e),e}(Object(n["b"])(a["a"])),j=g,O=j,_=(o("f951"),Object(f["a"])(O,i,r,!1,null,"2b0783f3",null));e["a"]=_.exports},c2ee:function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("frame-view",[o("div",[o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.visible=!t.visible}}},[t._v("新增编辑")]),o("el-button",{attrs:{type:"primary"},on:{click:function(e){t.visible_read=!t.visible_read}}},[t._v("查看")]),o("pro-form-dialog",{attrs:{title:"新增、编辑表单",width:"1200px",visible:t.visible,formList:t.formlist,mode:"edit",submitHandler:t.submitHandler},on:{"update:visible":function(e){t.visible=e}},scopedSlots:t._u([{key:"slot",fn:function(){return[t._v("自定义插槽")]},proxy:!0}]),model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}}),o("pro-form-dialog",{attrs:{title:"查看表单",width:"1200px",visible:t.visible_read,formList:t.formlist,mode:"read",submitHandler:t.submitHandler},on:{"update:visible":function(e){t.visible_read=e}},scopedSlots:t._u([{key:"slot",fn:function(){return[t._v("自定义插槽")]},proxy:!0}]),model:{value:t.formData,callback:function(e){t.formData=e},expression:"formData"}})],1)])},r=[],l=o("9ab4"),n=o("1b40"),a=o("4e64"),s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("my-dialog",{staticClass:"pro-form-dialog",class:{"is-fluid":t.fluid},attrs:{title:t.title,width:t.width,top:t.top,"show-close":t.showClose},on:{"on-dialog-close":t.handleDialogClose},scopedSlots:t._u([{key:"title",fn:function(){return[t._t("title")]},proxy:!0},{key:"footer",fn:function(){return[t.$slots.footer&&t.$slots.footer.length?[t._t("footer")]:["edit"==t.mode?[o("div",{staticClass:"form-btns"},[t.showReset?o("el-button",{attrs:{size:t.size},on:{click:t.handleResetBtnClick}},[t._v("清空")]):t._e(),t.showCancel?o("el-button",{attrs:{size:t.size},on:{click:t.handelCancelBtnClick}},[t._v("取消")]):t._e(),t.showSubmit?o("el-button",{attrs:{type:"primary",size:t.size,disabled:t.loading,loading:t.btnLoading},on:{click:t.handleSubmitBtnClick}},[t._v(" "+t._s(t.buttonSubmitText)+" ")]):t._e()],1)]:[o("span",{attrs:{name:"footer"}})]]]},proxy:!0}],null,!0),model:{value:t.currentVisible,callback:function(e){t.currentVisible=e},expression:"currentVisible"}},[o("div",{staticClass:"form-container"},[o("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"form-wrapper"},[o("pro-form",{ref:"pro-form",attrs:{showOperation:!1,"label-position":t.labelPosition,list:t.formList,labelWidth:t.labelWidth,size:t.size,mode:t.mode,"reset-with-visible":t.resetWithVisible},scopedSlots:t._u([t._l(t.slotedItems,(function(e){return{key:e,fn:function(){return[t._t(e)]},proxy:!0}})),{key:"operation",fn:function(){return[t._t("operation")]},proxy:!0}],null,!0),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})],1)]),t._t("tips"),t._t("other")],2)},c=[],p=(o("d3b7"),o("307f")),d=o("a66f"),u=o("d8f4"),b=o("f7fe"),f=o.n(b),m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnLoading=!1,e.emitSubmit=f()((function(){var t=this;this.btnLoading=!0;var e=this.submitHandler();e instanceof Promise?e.finally((function(){t.btnLoading=!1})):this.btnLoading=!1}),650,{leading:!0}),e}return Object(l["c"])(e,t),Object.defineProperty(e.prototype,"currentVisible",{get:function(){return this.visible},set:function(t){this.$emit("update:visible",t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"slotedItems",{get:function(){for(var t=[],e=0,o=this.formList;e<o.length;e++)for(var i=o[e],r=0,l=i.items;r<l.length;r++){var n=l[r];"slot"===n.type&&t.push(n.prop)}return t},enumerable:!1,configurable:!0}),e.prototype.onResetWithVisibleChanghe=function(t){var e=this;this.resetWithVisible&&window.setTimeout((function(){e.$refs["pro-form"].clearValidate()}),123)},e.prototype.handelCancelBtnClick=function(){this.$emit("update:visible",!1),this.$emit("cancel-click")},e.prototype.handleDialogClose=function(){this.clearValidate(),this.$emit("on-dialog-close")},e.prototype.handleSubmitBtnClick=function(){var t=this;this.$emit("submit-click"),"function"===typeof this.submitHandler&&this.validate((function(e){e&&t.emitSubmit()}))},e.prototype.validate=function(t){this.$refs["pro-form"].validate(t)},e.prototype.resetFields=function(){this.$refs["pro-form"].resetFields()},e.prototype.clearValidate=function(){this.$refs["pro-form"].clearValidate()},e.prototype.handleResetBtnClick=function(){this.resetFields()},Object(l["b"])([Object(n["d"])({default:!1})],e.prototype,"visible",void 0),Object(l["b"])([Object(n["d"])({default:"edit"})],e.prototype,"mode",void 0),Object(l["b"])([Object(n["d"])({default:!0})],e.prototype,"showClose",void 0),Object(l["b"])([Object(n["d"])({default:"right"})],e.prototype,"labelPosition",void 0),Object(l["b"])([Object(n["d"])()],e.prototype,"title",void 0),Object(l["b"])([Object(n["d"])()],e.prototype,"width",void 0),Object(l["b"])([Object(n["d"])({default:function(){return[]}})],e.prototype,"formList",void 0),Object(l["b"])([Object(n["d"])({default:function(){return{}}})],e.prototype,"submitHandler",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!0})],e.prototype,"showSubmit",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!1})],e.prototype,"showReset",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!0})],e.prototype,"showCancel",void 0),Object(l["b"])([Object(n["d"])({default:"提交"})],e.prototype,"buttonSubmitText",void 0),Object(l["b"])([Object(n["d"])()],e.prototype,"labelWidth",void 0),Object(l["b"])([Object(n["d"])()],e.prototype,"size",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!1})],e.prototype,"fluid",void 0),Object(l["b"])([Object(n["d"])({type:Boolean,default:!1})],e.prototype,"resetWithVisible",void 0),Object(l["b"])([Object(n["d"])({default:"10vh"})],e.prototype,"top",void 0),Object(l["b"])([Object(n["d"])({default:!1,type:Boolean})],e.prototype,"loading",void 0),Object(l["b"])([Object(n["f"])("visible")],e.prototype,"onResetWithVisibleChanghe",null),e=Object(l["b"])([Object(n["a"])({components:{ProForm:d["a"],myDialog:u["default"]}})],e),e}(Object(n["b"])(p["a"])),h=m,y=h,v=(o("608d"),o("0c7c")),g=Object(v["a"])(y,s,c,!1,null,"16856e73",null),j=g.exports,O=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.visible=!0,e.visible_read=!0,e.labelPosition="right",e.config={labelWidth:"120",mode:"edit",column:3},e.formData={firstname:"",age:19,sex:1,memo:"描述信息",money:100,color:"#f40",second:+new Date,percent:100,rate:5,radio:1,checkbox:[1,2],process:80,password:"password",date:"2021-5-12",datetime:"2021-5-12 12:48:48",dateRange:["2021-5-12","2021-5-13"],datetimeRange:["2021-5-12 12:45:30","2021-5-13 12:54:03"],time:"12:56:56",timeRange:["12:56:56","23:23:23"],week:"2021-5-12",image:"https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png",slot:"自定义插槽"},e}return Object(l["c"])(e,t),e.prototype.submitHandler=function(){console.log(this.formData)},Object.defineProperty(e.prototype,"formlist",{get:function(){return[{title:"表单一",labelWidth:this.config.labelWidth,tooltip:"这个是测试水平表单",column:this.config.column,mode:this.config.mode,items:[{type:"slot",label:"插槽",prop:"slot"},{type:"text",label:"文本框",prop:"firstname",tooltip:"这个是姓名",other:{tip:'温馨提示: 你好！<span style="color:#f40">hello world</span>'},rules:[{validator:this.validator}]},{type:"digit",label:"数字",prop:"age",tooltip:"年龄"},{type:"money",label:"金额",prop:"money"},{type:"color",label:"颜色",prop:"color"},{type:"second",label:"秒",prop:"second",rules:[{required:!0,message:"请输入数字"}]},{type:"percent",label:"百分比",prop:"percent"},{type:"rate",label:"评分",prop:"rate"},{type:"select",label:"下拉框",prop:"sex",tooltip:"性别",options:[new a["a"](1,"男"),new a["a"](2,"女")]},{type:"radio",label:"单选框",prop:"radio",options:[new a["a"](1,"开心"),new a["a"](2,"郁闷")]},{type:"checkbox",label:"复选框",prop:"checkbox",options:[new a["a"](1,"篮球"),new a["a"](2,"游戏"),new a["a"](3,"看书")]},{type:"process",label:"进度条",prop:"process"},{type:"password",label:"密码",prop:"password"},{type:"date",label:"日期选择",prop:"date"},{type:"time",label:"时间选择",prop:"time"},{type:"week",label:"第几周选择",prop:"week"},{type:"datetime",label:"日期时间",prop:"datetime"},{type:"dateRange",label:"日期区间",prop:"dateRange"},{type:"image",label:"图片",prop:"image",srcList:["https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png","https://fuss10.elemecdn.com/8/27/f01c15bb73e1ef3793e64e6b7bbccjpeg.jpeg","https://fuss10.elemecdn.com/1/8e/aeffeb4de74e2fde4bd74fc7b4486jpeg.jpeg"]},{type:"textarea",label:"描述",prop:"memo",tooltip:"描述"},{type:"datetimeRange",label:"日期时间区间",prop:"datetimeRange"}]},{title:"表单二",labelWidth:120,tooltip:"这个是测试水平表单",column:1,mode:this.config.mode,items:[{type:"text",label:"名称",prop:"lastname",rules:[{required:!0,message:"请输入姓名",trigger:"blur"}]}]}]},enumerable:!1,configurable:!0}),e.prototype.validator=function(t,e,o){return e>=10||e<=0?o("请输入0~10之间"):o()},e=Object(l["b"])([Object(n["a"])({components:{ProFormDialog:j}})],e),e}(n["e"]),_=O,w=_,k=Object(v["a"])(w,i,r,!1,null,null,null);e["default"]=k.exports},cfa6:function(t,e,o){},d170:function(t,e,o){"use strict";o("dc66")},dc66:function(t,e,o){},f951:function(t,e,o){"use strict";o("7eb3")}}]);
//# sourceMappingURL=pro-form-dialog.c69bc1d7.js.map